{% extends 'base.html' %}

{% block title %}Startseite{% endblock %}

{% block content %}
{% set active_page = 'index' %}
{% include 'navbar.html' %}
<h1 class="my-4">ping-Status *.nardini.rp</h1>
<table id="resultsTable" class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Hostname</th>
            <th>IPv4Address</th>
            <th>Status</th>
            <th>Timestamp</th>
        </tr>
    </thead>
    <tbody>
        {% for result in results %}
        <tr>
            <td>{{ result['hostname'] }}</td>
            <td>{{ result['IPv4Address'] }}</td>
            <td>{{ result['status'] }}</td>
            <td>{{ result['timestamp'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>

<!-- jQuery and DataTables JS -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

<script>
    $(document).ready(function () {
        $('#resultsTable').DataTable({
            "order": [[3, "desc"]], // Sort by timestamp (desc)
            "responsive": true,
            stateSave: true,
            lengthMenu: [
                [25, 50, 100, -1],
                [25, 50, 100, 'All'],
            ],
        });
    });
</script>
{% endblock %}